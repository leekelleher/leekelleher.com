@using Wyam.Modules.Razor.Microsoft.AspNet.Html.Abstractions
@{
	var posts = Documents
		.OrderByDescending(x => x.Get<DateTime>("date"))
		.Take(10);

	Func<IDocument, IHtmlContent> excerpt = (doc) =>
	{
		return Html.Raw(""); //Html.Excerpt(doc.Get<string>("Excerpt"), 50, " [&hellip;]"));
	};
}

<header>
	<h2>Latest posts</h2>
</header>

<ul>
	@foreach(var post in posts)
	{
		<li>
			<div>
				<h3><a href="@post["permalink"]" rel="bookmark">@post["title"]</a></h3>
				<p>@(excerpt(post))</p>
				<p><span>Posted on <time datetime="@(post.Get<DateTime>("date").ToString("yyyy-MM-ddTHH:mm"))">@(post.Get<DateTime>("date").ToShortDateString())</time></span></p>
			</div>
		</li>
	}
</ul>
